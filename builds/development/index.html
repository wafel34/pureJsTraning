<!DOCTYPE HTML>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<title></title>
	<meta name="description" content="" />
	<meta name="keywords" content="" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="shortcut icon" href="">
    <link rel="stylesheet" href="css/style.css">
	<script src="https://fb.me/react-0.14.3.js"></script>
	<script src="https://fb.me/react-dom-0.14.3.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.38/browser.js"></script>
</head>
<body>

	<div id="react-container"></div>

	<script type="text/babel">
		var Note = React.createClass({
			getInitialState() {
				return {editing: false}
			},
			edit() {
				this.setState({editing: true})
			},
			save() {
        var val = this.refs.newText.value
				this.setState({editing: false})
			},
			remove() {
				alert('Dupa')
			},
			renderForm() {
				return (
					<div className="note">
						<textarea ref="newText"></textarea>
						<span>
							<button onClick={this.save}>SAVE</button>
						</span>
					</div>
				)
			},
			renderDisplay() {
				return (
					<div className="note">
						<p>{this.props.children}</p>
						<span>
							<button onClick={this.edit}>EDIT</button>
							<button onClick={this.remove}>X</button>
						</span>
					</div>
				)
			},
			render() {
        return (this.state.editing) ? this.renderForm() : this.renderDisplay()
			}
		})

    var Board = React.createClass({
      getInitialState() {
        return {
          notes: [
            "Note 1",
            "Note 2",
            "Note 3",
            "Note 4",
            "Note 5",
            "Note 6",
            "Note 7",
            "Note 8",
          ]
        }
      },
      render() {
        return (
          <div className="board">
            {this.state.notes.map(function(note, i){
              return <Note key={i}>{note}</Note>
            }
          )}
          </div>
        )
      }
    })

		ReactDOM.render(<Board count={10}></Board>, document.getElementById('react-container'))
	</script>

</body>
</html>
